<center><a href="petsclog.h">Actual source code: petsclog.h</a></center><br>

<html>
<head> <link rel="canonical" href="http://www.mcs.anl.gov/petsc/petsc-current/include/petsclog.h.html" />
<title></title>
<meta name="generator" content="c2html 0.9.4">
<meta name="date" content="2021-03-30T16:49:31+00:00">
</head>

<body bgcolor="#FFFFFF">
   <div id="version" align=right><b>petsc-3.14.6 2021-03-30</b></div>
   <div id="bugreport" align=right><a href="mailto:petsc-maint@mcs.anl.gov?subject=Typo or Error in Documentation &body=Please describe the typo or error in the documentation: petsc-3.14.6 v3.14.6 include/petsclog.h.html "><small>Report Typos and Errors</small></a></div>
<pre width="80">
<a name="line1">  1: </a><font color="#B22222">/*</font>
<a name="line2">  2: </a><font color="#B22222">    Defines profile/logging in PETSc.</font>
<a name="line3">  3: </a><font color="#B22222">*/</font>

<a name="line5">  5: </a><font color="#A020F0">#if !defined(PETSCLOG_H)</font>
<a name="line6">  6: </a><strong><font color="#228B22">#define PETSCLOG_H</font></strong>
<a name="line7">  7: </a>#include <A href="../include/petscsys.h.html">&lt;petscsys.h&gt;</A>
<a name="line8">  8: </a>#include <A href="../include/petsctime.h.html">&lt;petsctime.h&gt;</A>

<a name="line10"> 10: </a><font color="#B22222">/* General logging of information; different from event logging */</font>
<a name="line11"> 11: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> PetscInfo_Private(const char[],<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>,const char[],...)</font></strong>;
<a name="line12"> 12: </a><font color="#A020F0">#if defined(PETSC_USE_INFO)</font>
<a name="line13"> 13: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscInfo.html#PetscInfo">PetscInfo</a>(A,S)                       PetscInfo_Private(PETSC_FUNCTION_NAME,((<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)A),S)</font></strong>
<a name="line14"> 14: </a><strong><font color="#228B22">#define PetscInfo1(A,S,a1)                   PetscInfo_Private(PETSC_FUNCTION_NAME,((<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)A),S,a1)</font></strong>
<a name="line15"> 15: </a><strong><font color="#228B22">#define PetscInfo2(A,S,a1,a2)                PetscInfo_Private(PETSC_FUNCTION_NAME,((<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)A),S,a1,a2)</font></strong>
<a name="line16"> 16: </a><strong><font color="#228B22">#define PetscInfo3(A,S,a1,a2,a3)             PetscInfo_Private(PETSC_FUNCTION_NAME,((<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)A),S,a1,a2,a3)</font></strong>
<a name="line17"> 17: </a><strong><font color="#228B22">#define PetscInfo4(A,S,a1,a2,a3,a4)          PetscInfo_Private(PETSC_FUNCTION_NAME,((<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)A),S,a1,a2,a3,a4)</font></strong>
<a name="line18"> 18: </a><strong><font color="#228B22">#define PetscInfo5(A,S,a1,a2,a3,a4,a5)       PetscInfo_Private(PETSC_FUNCTION_NAME,((<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)A),S,a1,a2,a3,a4,a5)</font></strong>
<a name="line19"> 19: </a><strong><font color="#228B22">#define PetscInfo6(A,S,a1,a2,a3,a4,a5,a6)    PetscInfo_Private(PETSC_FUNCTION_NAME,((<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)A),S,a1,a2,a3,a4,a5,a6)</font></strong>
<a name="line20"> 20: </a><strong><font color="#228B22">#define PetscInfo7(A,S,a1,a2,a3,a4,a5,a6,a7) PetscInfo_Private(PETSC_FUNCTION_NAME,((<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)A),S,a1,a2,a3,a4,a5,a6,a7)</font></strong>
<a name="line21"> 21: </a><font color="#A020F0">#else</font>
<a name="line22"> 22: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscInfo.html#PetscInfo">PetscInfo</a>(A,S)                       0</font></strong>
<a name="line23"> 23: </a><strong><font color="#228B22">#define PetscInfo1(A,S,a1)                   0</font></strong>
<a name="line24"> 24: </a><strong><font color="#228B22">#define PetscInfo2(A,S,a1,a2)                0</font></strong>
<a name="line25"> 25: </a><strong><font color="#228B22">#define PetscInfo3(A,S,a1,a2,a3)             0</font></strong>
<a name="line26"> 26: </a><strong><font color="#228B22">#define PetscInfo4(A,S,a1,a2,a3,a4)          0</font></strong>
<a name="line27"> 27: </a><strong><font color="#228B22">#define PetscInfo5(A,S,a1,a2,a3,a4,a5)       0</font></strong>
<a name="line28"> 28: </a><strong><font color="#228B22">#define PetscInfo6(A,S,a1,a2,a3,a4,a5,a6)    0</font></strong>
<a name="line29"> 29: </a><strong><font color="#228B22">#define PetscInfo7(A,S,a1,a2,a3,a4,a5,a6,a7) 0</font></strong>
<a name="line30"> 30: </a><font color="#A020F0">#endif</font>

<a name="line32"> 32: </a><font color="#B22222">/*E</font>
<a name="line33"> 33: </a><font color="#B22222">    <a href="../docs/manualpages/Profiling/PetscInfoCommFlag.html#PetscInfoCommFlag">PetscInfoCommFlag</a> - Describes the method by which to filter <a href="../docs/manualpages/Profiling/PetscInfo.html#PetscInfo">PetscInfo</a>() by communicator size</font>

<a name="line35"> 35: </a><font color="#B22222">    Used as an input for <a href="../docs/manualpages/Profiling/PetscInfoSetFilterCommSelf.html#PetscInfoSetFilterCommSelf">PetscInfoSetFilterCommSelf</a>()</font>

<a name="line37"> 37: </a><font color="#B22222">$   <a href="../docs/manualpages/Profiling/PetscInfoCommFlag.html#PetscInfoCommFlag">PETSC_INFO_COMM_ALL</a> - Default uninitialized value. <a href="../docs/manualpages/Profiling/PetscInfo.html#PetscInfo">PetscInfo</a>() will not filter based on communicator size (i.e. will</font>
<a name="line38"> 38: </a><font color="#B22222">print for all communicators)</font>
<a name="line39"> 39: </a><font color="#B22222">$   <a href="../docs/manualpages/Profiling/PetscInfoCommFlag.html#PetscInfoCommFlag">PETSC_INFO_COMM_NO_SELF</a> - <a href="../docs/manualpages/Profiling/PetscInfo.html#PetscInfo">PetscInfo</a>() will NOT print for communicators with size = 1 (i.e. *_COMM_SELF)</font>
<a name="line40"> 40: </a><font color="#B22222">$   <a href="../docs/manualpages/Profiling/PetscInfoCommFlag.html#PetscInfoCommFlag">PETSC_INFO_COMM_ONLY_SELF</a> - <a href="../docs/manualpages/Profiling/PetscInfo.html#PetscInfo">PetscInfo</a> will ONLY print for communicators with size = 1</font>

<a name="line42"> 42: </a><font color="#B22222">    Level: intermediate</font>

<a name="line44"> 44: </a><font color="#B22222">.seealso: <a href="../docs/manualpages/Profiling/PetscInfo.html#PetscInfo">PetscInfo</a>(), <a href="../docs/manualpages/Profiling/PetscInfoSetFromOptions.html#PetscInfoSetFromOptions">PetscInfoSetFromOptions</a>(), <a href="../docs/manualpages/Profiling/PetscInfoSetFilterCommSelf.html#PetscInfoSetFilterCommSelf">PetscInfoSetFilterCommSelf</a>()</font>
<a name="line45"> 45: </a><font color="#B22222">E*/</font>
<a name="line46"> 46: </a><font color="#4169E1">typedef</font> <font color="#4169E1">enum</font> {
<a name="line47"> 47: </a>  <a href="../docs/manualpages/Profiling/PetscInfoCommFlag.html#PetscInfoCommFlag">PETSC_INFO_COMM_ALL</a> = -1,
<a name="line48"> 48: </a>  <a href="../docs/manualpages/Profiling/PetscInfoCommFlag.html#PetscInfoCommFlag">PETSC_INFO_COMM_NO_SELF</a> = 0,
<a name="line49"> 49: </a>  <a href="../docs/manualpages/Profiling/PetscInfoCommFlag.html#PetscInfoCommFlag">PETSC_INFO_COMM_ONLY_SELF</a> = 1
<a name="line50"> 50: </a>} <a href="../docs/manualpages/Profiling/PetscInfoCommFlag.html#PetscInfoCommFlag">PetscInfoCommFlag</a>;

<a name="line52"> 52: </a>PETSC_EXTERN const char * const PetscInfoCommFlags[];
<a name="line53"> 53: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscInfoDeactivateClass.html#PetscInfoDeactivateClass">PetscInfoDeactivateClass</a>(<a href="../docs/manualpages/Sys/PetscClassId.html#PetscClassId">PetscClassId</a>)</font></strong>;
<a name="line54"> 54: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscInfoActivateClass.html#PetscInfoActivateClass">PetscInfoActivateClass</a>(<a href="../docs/manualpages/Sys/PetscClassId.html#PetscClassId">PetscClassId</a>)</font></strong>;
<a name="line55"> 55: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscInfoEnabled.html#PetscInfoEnabled">PetscInfoEnabled</a>(<a href="../docs/manualpages/Sys/PetscClassId.html#PetscClassId">PetscClassId</a>, <a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a> *)</font></strong>;
<a name="line56"> 56: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscInfoAllow.html#PetscInfoAllow">PetscInfoAllow</a>(<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>)</font></strong>;
<a name="line57"> 57: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscInfoSetFile.html#PetscInfoSetFile">PetscInfoSetFile</a>(const char[],const char[])</font></strong>;
<a name="line58"> 58: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscInfoGetFile.html#PetscInfoGetFile">PetscInfoGetFile</a>(char **,FILE **)</font></strong>;
<a name="line59"> 59: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscInfoSetClasses.html#PetscInfoSetClasses">PetscInfoSetClasses</a>(<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>,<a href="../docs/manualpages/Sys/PetscInt.html#PetscInt">PetscInt</a>,const char *const *)</font></strong>;
<a name="line60"> 60: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscInfoGetClass.html#PetscInfoGetClass">PetscInfoGetClass</a>(const char *, <a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a> *)</font></strong>;
<a name="line61"> 61: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscInfoGetInfo.html#PetscInfoGetInfo">PetscInfoGetInfo</a>(<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a> *,<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a> *,<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a> *,<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a> *,<a href="../docs/manualpages/Profiling/PetscInfoCommFlag.html#PetscInfoCommFlag">PetscInfoCommFlag</a> *)</font></strong>;
<a name="line62"> 62: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscInfoProcessClass.html#PetscInfoProcessClass">PetscInfoProcessClass</a>(const char[],<a href="../docs/manualpages/Sys/PetscInt.html#PetscInt">PetscInt</a>,<a href="../docs/manualpages/Sys/PetscClassId.html#PetscClassId">PetscClassId</a>[])</font></strong>;
<a name="line63"> 63: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscInfoSetFilterCommSelf.html#PetscInfoSetFilterCommSelf">PetscInfoSetFilterCommSelf</a>(<a href="../docs/manualpages/Profiling/PetscInfoCommFlag.html#PetscInfoCommFlag">PetscInfoCommFlag</a>)</font></strong>;
<a name="line64"> 64: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscInfoSetFromOptions.html#PetscInfoSetFromOptions">PetscInfoSetFromOptions</a>(PetscOptions)</font></strong>;
<a name="line65"> 65: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscInfoDestroy.html#PetscInfoDestroy">PetscInfoDestroy</a>(void)</font></strong>;
<a name="line66"> 66: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>      PetscLogPrintInfo;  <font color="#B22222">/* if true, indicates <a href="../docs/manualpages/Profiling/PetscInfo.html#PetscInfo">PetscInfo</a>() is turned on */</font>

<a name="line68"> 68: </a><font color="#B22222">/*MC</font>
<a name="line69"> 69: </a><font color="#B22222">    <a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a> - id used to identify PETSc or user events which timed portions (blocks of executable)</font>
<a name="line70"> 70: </a><font color="#B22222">     code.</font>

<a name="line72"> 72: </a><font color="#B22222">    Level: intermediate</font>

<a name="line74"> 74: </a><font color="#B22222">.seealso: <a href="../docs/manualpages/Profiling/PetscLogEventRegister.html#PetscLogEventRegister">PetscLogEventRegister</a>(), <a href="../docs/manualpages/Profiling/PetscLogEventBegin.html#PetscLogEventBegin">PetscLogEventBegin</a>(), <a href="../docs/manualpages/Profiling/PetscLogEventEnd.html#PetscLogEventEnd">PetscLogEventEnd</a>(), <a href="../docs/manualpages/Profiling/PetscLogStage.html#PetscLogStage">PetscLogStage</a></font>
<a name="line75"> 75: </a><font color="#B22222">M*/</font>
<a name="line76"> 76: </a><font color="#4169E1">typedef int <a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a>;</font>

<a name="line78"> 78: </a><font color="#B22222">/*MC</font>
<a name="line79"> 79: </a><font color="#B22222">    <a href="../docs/manualpages/Profiling/PetscLogStage.html#PetscLogStage">PetscLogStage</a> - id used to identify user stages (phases, sections) of runs - for logging</font>

<a name="line81"> 81: </a><font color="#B22222">    Level: intermediate</font>

<a name="line83"> 83: </a><font color="#B22222">.seealso: <a href="../docs/manualpages/Profiling/PetscLogStageRegister.html#PetscLogStageRegister">PetscLogStageRegister</a>(), <a href="../docs/manualpages/Profiling/PetscLogStagePush.html#PetscLogStagePush">PetscLogStagePush</a>(), <a href="../docs/manualpages/Profiling/PetscLogStagePop.html#PetscLogStagePop">PetscLogStagePop</a>(), <a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a></font>
<a name="line84"> 84: </a><font color="#B22222">M*/</font>
<a name="line85"> 85: </a><font color="#4169E1">typedef int <a href="../docs/manualpages/Profiling/PetscLogStage.html#PetscLogStage">PetscLogStage</a>;</font>

<a name="line87"> 87: </a><strong><font color="#228B22">#define PETSC_EVENT  1311311</font></strong>
<a name="line88"> 88: </a>PETSC_EXTERN <a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a> PETSC_LARGEST_EVENT;

<a name="line90"> 90: </a><font color="#B22222">/* Global flop counter */</font>
<a name="line91"> 91: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_TotalFlops;
<a name="line92"> 92: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_tmp_flops;

<a name="line94"> 94: </a><font color="#B22222">/* We must make the following structures available to access the event</font>
<a name="line95"> 95: </a><font color="#B22222">     activation flags in the <a href="../docs/manualpages/Profiling/PetscLogEventBegin.html#PetscLogEventBegin">PetscLogEventBegin</a>/End() macros. These are not part of the PETSc public</font>
<a name="line96"> 96: </a><font color="#B22222">     API and are not intended to be used by other parts of PETSc or by users.</font>

<a name="line98"> 98: </a><font color="#B22222">     The code that manipulates these structures is in src/sys/logging/utils.</font>
<a name="line99"> 99: </a><font color="#B22222">*/</font>
<a name="line100">100: </a><font color="#4169E1">typedef struct _n_PetscIntStack *PetscIntStack;</font>

<a name="line102">102: </a><font color="#B22222">/* -----------------------------------------------------------------------------------------------------*/</font>
<a name="line103">103: </a><font color="#B22222">/*</font>
<a name="line104">104: </a><font color="#B22222">    PetscClassRegInfo, PetscClassPerfInfo - Each class has two data structures associated with it. The first has</font>
<a name="line105">105: </a><font color="#B22222">       static information about it, the second collects statistics on how many objects of the class are created,</font>
<a name="line106">106: </a><font color="#B22222">       how much memory they use, etc.</font>

<a name="line108">108: </a><font color="#B22222">    PetscClassRegLog, PetscClassPerfLog - arrays of the PetscClassRegInfo and PetscClassPerfInfo for all classes.</font>
<a name="line109">109: </a><font color="#B22222">*/</font>
<a name="line110">110: </a><font color="#4169E1">typedef</font> <font color="#4169E1">struct</font>  {
<a name="line111">111: </a>  char           *name;   <font color="#B22222">/* The class name */</font>
<a name="line112">112: </a>  <a href="../docs/manualpages/Sys/PetscClassId.html#PetscClassId">PetscClassId</a>   classid; <font color="#B22222">/* The integer identifying this class */</font>
<a name="line113">113: </a>} PetscClassRegInfo;

<a name="line115">115: </a><font color="#4169E1">typedef</font> <font color="#4169E1">struct</font> {
<a name="line116">116: </a>  <a href="../docs/manualpages/Sys/PetscClassId.html#PetscClassId">PetscClassId</a>   id;           <font color="#B22222">/* The integer identifying this class */</font>
<a name="line117">117: </a>  int            creations;    <font color="#B22222">/* The number of objects of this class created */</font>
<a name="line118">118: </a>  int            destructions; <font color="#B22222">/* The number of objects of this class destroyed */</font>
<a name="line119">119: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> mem;          <font color="#B22222">/* The total memory allocated by objects of this class */</font>
<a name="line120">120: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> descMem;      <font color="#B22222">/* The total memory allocated by descendents of these objects */</font>
<a name="line121">121: </a>} PetscClassPerfInfo;

<a name="line123">123: </a><font color="#4169E1">typedef struct _n_PetscClassRegLog *PetscClassRegLog;</font>
<a name="line124">124: </a><font color="#4169E1"><a name="_n_PetscClassRegLog"></a>struct _n_PetscClassRegLog </font>{
<a name="line125">125: </a>  int               numClasses; <font color="#B22222">/* The number of classes registered */</font>
<a name="line126">126: </a>  int               maxClasses; <font color="#B22222">/* The maximum number of classes */</font>
<a name="line127">127: </a>  PetscClassRegInfo *classInfo; <font color="#B22222">/* The structure for class information (classids are monotonicly increasing) */</font>
<a name="line128">128: </a>};

<a name="line130">130: </a><font color="#4169E1">typedef struct _n_PetscClassPerfLog *PetscClassPerfLog;</font>
<a name="line131">131: </a><font color="#4169E1"><a name="_n_PetscClassPerfLog"></a>struct _n_PetscClassPerfLog </font>{
<a name="line132">132: </a>  int                numClasses; <font color="#B22222">/* The number of logging classes */</font>
<a name="line133">133: </a>  int                maxClasses; <font color="#B22222">/* The maximum number of classes */</font>
<a name="line134">134: </a>  PetscClassPerfInfo *classInfo; <font color="#B22222">/* The structure for class information (classids are monotonicly increasing) */</font>
<a name="line135">135: </a>};
<a name="line136">136: </a><font color="#B22222">/* -----------------------------------------------------------------------------------------------------*/</font>
<a name="line137">137: </a><font color="#B22222">/*</font>
<a name="line138">138: </a><font color="#B22222">    PetscEventRegInfo, PetscEventPerfInfo - Each event has two data structures associated with it. The first has</font>
<a name="line139">139: </a><font color="#B22222">       static information about it, the second collects statistics on how many times the event is used, how</font>
<a name="line140">140: </a><font color="#B22222">       much time it takes, etc.</font>

<a name="line142">142: </a><font color="#B22222">    PetscEventRegLog, PetscEventPerfLog - an array of all PetscEventRegInfo and PetscEventPerfInfo for all events. There is one</font>
<a name="line143">143: </a><font color="#B22222">      of these for each stage.</font>

<a name="line145">145: </a><font color="#B22222">*/</font>
<a name="line146">146: </a><font color="#4169E1">typedef</font> <font color="#4169E1">struct</font> {
<a name="line147">147: </a>  char         *name;         <font color="#B22222">/* The name of this event */</font>
<a name="line148">148: </a>  <a href="../docs/manualpages/Sys/PetscClassId.html#PetscClassId">PetscClassId</a> classid;       <font color="#B22222">/* The class the event is associated with */</font>
<a name="line149">149: </a>  <a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>    collective;    <font color="#B22222">/* Flag this event as collective */</font>
<a name="line150">150: </a><font color="#A020F0">#if defined (PETSC_HAVE_MPE)</font>
<a name="line151">151: </a>  int          mpe_id_begin;  <font color="#B22222">/* MPE IDs that define the event */</font>
<a name="line152">152: </a>  int          mpe_id_end;
<a name="line153">153: </a><font color="#A020F0">#endif</font>
<a name="line154">154: </a>} PetscEventRegInfo;

<a name="line156">156: </a><font color="#4169E1">typedef</font> <font color="#4169E1">struct</font> {
<a name="line157">157: </a>  int            id;            <font color="#B22222">/* The integer identifying this event */</font>
<a name="line158">158: </a>  <a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>      active;        <font color="#B22222">/* The flag to activate logging */</font>
<a name="line159">159: </a>  <a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>      visible;       <font color="#B22222">/* The flag to print info in summary */</font>
<a name="line160">160: </a>  int            depth;         <font color="#B22222">/* The nesting depth of the event call */</font>
<a name="line161">161: </a>  int            count;         <font color="#B22222">/* The number of times this event was executed */</font>
<a name="line162">162: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> flops, flops2, flopsTmp; <font color="#B22222">/* The flops and flops^2 used in this event */</font>
<a name="line163">163: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> time, time2, timeTmp;    <font color="#B22222">/* The time and time^2 taken for this event */</font>
<a name="line164">164: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> syncTime;                <font color="#B22222">/* The synchronization barrier time */</font>
<a name="line165">165: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> dof[8];        <font color="#B22222">/* The number of degrees of freedom associated with this event */</font>
<a name="line166">166: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> errors[8];     <font color="#B22222">/* The errors (user-defined) associated with this event */</font>
<a name="line167">167: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> numMessages;   <font color="#B22222">/* The number of messages in this event */</font>
<a name="line168">168: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> messageLength; <font color="#B22222">/* The total message lengths in this event */</font>
<a name="line169">169: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> numReductions; <font color="#B22222">/* The number of reductions in this event */</font>
<a name="line170">170: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> memIncrease;   <font color="#B22222">/* How much the resident memory has increased in this event */</font>
<a name="line171">171: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> mallocIncrease;<font color="#B22222">/* How much the maximum malloced space has increased in this event */</font>
<a name="line172">172: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> mallocSpace;   <font color="#B22222">/* How much the space was malloced and kept during this event */</font>
<a name="line173">173: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> mallocIncreaseEvent;  <font color="#B22222">/* Maximum of the high water mark with in event minus memory available at the end of the event */</font>
<a name="line174">174: </a><font color="#A020F0">  #if defined(PETSC_HAVE_DEVICE)</font>
<a name="line175">175: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> CpuToGpuCount; <font color="#B22222">/* The total number of CPU to GPU copies */</font>
<a name="line176">176: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> GpuToCpuCount; <font color="#B22222">/* The total number of GPU to CPU copies */</font>
<a name="line177">177: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> CpuToGpuSize;  <font color="#B22222">/* The total size of CPU to GPU copies */</font>
<a name="line178">178: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> GpuToCpuSize;  <font color="#B22222">/* The total size of GPU to CPU copies */</font>
<a name="line179">179: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> GpuFlops;      <font color="#B22222">/* The flops done on a GPU in this event */</font>
<a name="line180">180: </a>  <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> GpuTime;       <font color="#B22222">/* The time spent on a GPU in this event */</font>
<a name="line181">181: </a><font color="#A020F0">  #endif</font>
<a name="line182">182: </a>} PetscEventPerfInfo;

<a name="line184">184: </a><font color="#4169E1">typedef struct _n_PetscEventRegLog *PetscEventRegLog;</font>
<a name="line185">185: </a><font color="#4169E1"><a name="_n_PetscEventRegLog"></a>struct _n_PetscEventRegLog </font>{
<a name="line186">186: </a>  int               numEvents;  <font color="#B22222">/* The number of registered events */</font>
<a name="line187">187: </a>  int               maxEvents;  <font color="#B22222">/* The maximum number of events */</font>
<a name="line188">188: </a>  PetscEventRegInfo *eventInfo; <font color="#B22222">/* The registration information for each event */</font>
<a name="line189">189: </a>};

<a name="line191">191: </a><font color="#4169E1">typedef struct _n_PetscEventPerfLog *PetscEventPerfLog;</font>
<a name="line192">192: </a><font color="#4169E1"><a name="_n_PetscEventPerfLog"></a>struct _n_PetscEventPerfLog </font>{
<a name="line193">193: </a>  int                numEvents;  <font color="#B22222">/* The number of logging events */</font>
<a name="line194">194: </a>  int                maxEvents;  <font color="#B22222">/* The maximum number of events */</font>
<a name="line195">195: </a>  PetscEventPerfInfo *eventInfo; <font color="#B22222">/* The performance information for each event */</font>
<a name="line196">196: </a>};
<a name="line197">197: </a><font color="#B22222">/* ------------------------------------------------------------------------------------------------------------*/</font>
<a name="line198">198: </a><font color="#B22222">/*</font>
<a name="line199">199: </a><font color="#B22222">   PetscStageInfo - Contains all the information about a particular stage.</font>

<a name="line201">201: </a><font color="#B22222">   PetscStageLog - An array of PetscStageInfo for each registered stage. There is a single one of these in the code.</font>
<a name="line202">202: </a><font color="#B22222">*/</font>
<a name="line203">203: </a><font color="#4169E1"><a name="_PetscStageInfo"></a>typedef struct _PetscStageInfo </font>{
<a name="line204">204: </a>  char               *name;     <font color="#B22222">/* The stage name */</font>
<a name="line205">205: </a>  <a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>          used;      <font color="#B22222">/* The stage was pushed on this processor */</font>
<a name="line206">206: </a>  PetscEventPerfInfo perfInfo;  <font color="#B22222">/* The stage performance information */</font>
<a name="line207">207: </a>  PetscEventPerfLog  eventLog;  <font color="#B22222">/* The event information for this stage */</font>
<a name="line208">208: </a>  PetscClassPerfLog  classLog;  <font color="#B22222">/* The class information for this stage */</font>
<a name="line209">209: </a>} PetscStageInfo;

<a name="line211">211: </a><font color="#4169E1">typedef struct _n_PetscStageLog *PetscStageLog;</font>
<a name="line212">212: </a><font color="#4169E1"><a name="_n_PetscStageLog"></a>struct _n_PetscStageLog </font>{
<a name="line213">213: </a>  int              numStages;   <font color="#B22222">/* The number of registered stages */</font>
<a name="line214">214: </a>  int              maxStages;   <font color="#B22222">/* The maximum number of stages */</font>
<a name="line215">215: </a>  PetscIntStack    stack;       <font color="#B22222">/* The stack for active stages */</font>
<a name="line216">216: </a>  int              curStage;    <font color="#B22222">/* The current stage (only used in macros so we don't call <a href="../docs/manualpages/Profiling/PetscIntStackTop.html#PetscIntStackTop">PetscIntStackTop</a>) */</font>
<a name="line217">217: </a>  PetscStageInfo   *stageInfo;  <font color="#B22222">/* The information for each stage */</font>
<a name="line218">218: </a>  PetscEventRegLog eventLog;    <font color="#B22222">/* The registered events */</font>
<a name="line219">219: </a>  PetscClassRegLog classLog;    <font color="#B22222">/* The registered classes */</font>
<a name="line220">220: </a>};
<a name="line221">221: </a><font color="#B22222">/* -----------------------------------------------------------------------------------------------------*/</font>

<a name="line223">223: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> PetscLogObjectParent(<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>,<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)</font></strong>;
<a name="line224">224: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogObjectMemory.html#PetscLogObjectMemory">PetscLogObjectMemory</a>(<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>,<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>)</font></strong>;

<a name="line226">226: </a><font color="#A020F0">#if defined(PETSC_USE_LOG)  </font><font color="#B22222">/* --- Logging is turned on --------------------------------*/</font><font color="#A020F0"></font>
<a name="line227">227: </a>PETSC_EXTERN PetscStageLog petsc_stageLog;
<a name="line228">228: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogGetStageLog.html#PetscLogGetStageLog">PetscLogGetStageLog</a>(PetscStageLog*)</font></strong>;
<a name="line229">229: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscStageLogGetCurrent.html#PetscStageLogGetCurrent">PetscStageLogGetCurrent</a>(PetscStageLog,int*)</font></strong>;
<a name="line230">230: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscStageLogGetEventPerfLog.html#PetscStageLogGetEventPerfLog">PetscStageLogGetEventPerfLog</a>(PetscStageLog,int,PetscEventPerfLog*)</font></strong>;

<a name="line232">232: </a><font color="#B22222">/*</font>
<a name="line233">233: </a><font color="#B22222">   Flop counting:  We count each arithmetic operation (e.g., addition, multiplication) separately.</font>

<a name="line235">235: </a><font color="#B22222">   For the complex numbers version, note that</font>
<a name="line236">236: </a><font color="#B22222">       1 complex addition = 2 flops</font>
<a name="line237">237: </a><font color="#B22222">       1 complex multiplication = 6 flops,</font>
<a name="line238">238: </a><font color="#B22222">   where we define 1 flop as that for a double precision scalar.  We roughly approximate</font>
<a name="line239">239: </a><font color="#B22222">   flop counting for complex numbers by multiplying the total flops by 4; this corresponds</font>
<a name="line240">240: </a><font color="#B22222">   to the assumption that we're counting mostly additions and multiplications -- and</font>
<a name="line241">241: </a><font color="#B22222">   roughly the same number of each.  More accurate counting could be done by distinguishing</font>
<a name="line242">242: </a><font color="#B22222">   among the various arithmetic operations.</font>
<a name="line243">243: </a><font color="#B22222"> */</font>

<a name="line245">245: </a><font color="#A020F0">#if defined(PETSC_USE_COMPLEX)</font>
<a name="line246">246: </a><strong><font color="#228B22">#define PETSC_FLOPS_PER_OP 4.0</font></strong>
<a name="line247">247: </a><font color="#A020F0">#else</font>
<a name="line248">248: </a><strong><font color="#228B22">#define PETSC_FLOPS_PER_OP 1.0</font></strong>
<a name="line249">249: </a><font color="#A020F0">#endif</font>

<a name="line251">251: </a><font color="#B22222">/*@</font>
<a name="line252">252: </a><font color="#B22222">       <a href="../docs/manualpages/Profiling/PetscLogFlops.html#PetscLogFlops">PetscLogFlops</a> - Log how many flops are performed in a calculation</font>

<a name="line254">254: </a><font color="#B22222">   Input Paramters:</font>
<a name="line255">255: </a><font color="#B22222">    flops - the number of flops</font>

<a name="line257">257: </a><font color="#B22222">   Notes:</font>
<a name="line258">258: </a><font color="#B22222">     To limit the chance of integer overflow when multiplying by a constant, represent the constant as a double,</font>
<a name="line259">259: </a><font color="#B22222">     not an integer. Use <a href="../docs/manualpages/Profiling/PetscLogFlops.html#PetscLogFlops">PetscLogFlops</a>(4.0*n) not <a href="../docs/manualpages/Profiling/PetscLogFlops.html#PetscLogFlops">PetscLogFlops</a>(4*n)</font>

<a name="line261">261: </a><font color="#B22222">   Level: intermediate</font>

<a name="line263">263: </a><font color="#B22222">.seealso: <a href="../docs/manualpages/Profiling/PetscLogView.html#PetscLogView">PetscLogView</a>(), <a href="../docs/manualpages/Profiling/PetscLogGpuFlops.html#PetscLogGpuFlops">PetscLogGpuFlops</a>()</font>
<a name="line264">264: </a><font color="#B22222">@*/</font>

<a name="line266">266: </a><strong><font color="#4169E1"><a name="PetscLogFlops"></a>PETSC_STATIC_INLINE <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogFlops.html#PetscLogFlops">PetscLogFlops</a>(<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> n)</font></strong>
<a name="line267">267: </a>{
<a name="line269">269: </a><font color="#A020F0">#if defined(PETSC_USE_DEBUG)</font>
<a name="line270">270: </a>  <font color="#4169E1">if</font> (n &lt; 0) <a href="../docs/manualpages/Sys/SETERRQ.html#SETERRQ">SETERRQ</a>(<a href="../docs/manualpages/Sys/PETSC_COMM_SELF.html#PETSC_COMM_SELF">PETSC_COMM_SELF</a>,PETSC_ERR_ARG_OUTOFRANGE,<font color="#666666">"Cannot log negative flops"</font>);
<a name="line271">271: </a><font color="#A020F0">#endif</font>
<a name="line272">272: </a>  petsc_TotalFlops += PETSC_FLOPS_PER_OP*n;
<a name="line273">273: </a>  <font color="#4169E1">return</font>(0);
<a name="line274">274: </a>}

<a name="line276">276: </a><font color="#A020F0">#if defined(PETSC_HAVE_DEVICE)</font>
<a name="line277">277: </a><font color="#B22222">/* Global GPU counters */</font>
<a name="line278">278: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_ctog_ct;
<a name="line279">279: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_gtoc_ct;
<a name="line280">280: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_ctog_sz;
<a name="line281">281: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_gtoc_sz;
<a name="line282">282: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_gflops;
<a name="line283">283: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_gtime;
<a name="line284">284: </a><font color="#A020F0">#if defined(PETSC_USE_DEBUG)</font>
<a name="line285">285: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>      petsc_gtime_inuse;
<a name="line286">286: </a><font color="#A020F0">#endif</font>

<a name="line288">288: </a><strong><font color="#4169E1"><a name="PetscLogCpuToGpu"></a>PETSC_STATIC_INLINE <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> PetscLogCpuToGpu(<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> size)</font></strong>
<a name="line289">289: </a>{
<a name="line291">291: </a>  petsc_ctog_ct += 1;
<a name="line292">292: </a>  petsc_ctog_sz += size;
<a name="line293">293: </a>  <font color="#4169E1">return</font>(0);
<a name="line294">294: </a>}

<a name="line296">296: </a><strong><font color="#4169E1"><a name="PetscLogGpuToCpu"></a>PETSC_STATIC_INLINE <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> PetscLogGpuToCpu(<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> size)</font></strong>
<a name="line297">297: </a>{
<a name="line299">299: </a>  petsc_gtoc_ct += 1;
<a name="line300">300: </a>  petsc_gtoc_sz += size;
<a name="line301">301: </a>  <font color="#4169E1">return</font>(0);
<a name="line302">302: </a>}

<a name="line304">304: </a><font color="#B22222">/*@</font>
<a name="line305">305: </a><font color="#B22222">       <a href="../docs/manualpages/Profiling/PetscLogGpuFlops.html#PetscLogGpuFlops">PetscLogGpuFlops</a> - Log how many flops are performed in a calculation on the device</font>

<a name="line307">307: </a><font color="#B22222">   Input Paramters:</font>
<a name="line308">308: </a><font color="#B22222">    flops - the number of flops</font>

<a name="line310">310: </a><font color="#B22222">   Notes:</font>
<a name="line311">311: </a><font color="#B22222">     To limit the chance of integer overflow when multiplying by a constant, represent the constant as a double,</font>
<a name="line312">312: </a><font color="#B22222">     not an integer. Use <a href="../docs/manualpages/Profiling/PetscLogFlops.html#PetscLogFlops">PetscLogFlops</a>(4.0*n) not <a href="../docs/manualpages/Profiling/PetscLogFlops.html#PetscLogFlops">PetscLogFlops</a>(4*n)</font>

<a name="line314">314: </a><font color="#B22222">   Level: intermediate</font>

<a name="line316">316: </a><font color="#B22222">.seealso: <a href="../docs/manualpages/Profiling/PetscLogView.html#PetscLogView">PetscLogView</a>(), <a href="../docs/manualpages/Profiling/PetscLogFlops.html#PetscLogFlops">PetscLogFlops</a>(), <a href="../docs/manualpages/Profiling/PetscLogGpuTimeBegin.html#PetscLogGpuTimeBegin">PetscLogGpuTimeBegin</a>(), <a href="../docs/manualpages/Profiling/PetscLogGpuTimeEnd.html#PetscLogGpuTimeEnd">PetscLogGpuTimeEnd</a>()</font>
<a name="line317">317: </a><font color="#B22222">@*/</font>
<a name="line318">318: </a><strong><font color="#4169E1"><a name="PetscLogGpuFlops"></a>PETSC_STATIC_INLINE <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogGpuFlops.html#PetscLogGpuFlops">PetscLogGpuFlops</a>(<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> n)</font></strong>
<a name="line319">319: </a>{
<a name="line321">321: </a><font color="#A020F0">#if defined(PETSC_USE_DEBUG)</font>
<a name="line322">322: </a>  <font color="#4169E1">if</font> (n &lt; 0) <a href="../docs/manualpages/Sys/SETERRQ.html#SETERRQ">SETERRQ</a>(<a href="../docs/manualpages/Sys/PETSC_COMM_SELF.html#PETSC_COMM_SELF">PETSC_COMM_SELF</a>,PETSC_ERR_ARG_OUTOFRANGE,<font color="#666666">"Cannot log negative flops"</font>);
<a name="line323">323: </a><font color="#A020F0">#endif</font>
<a name="line324">324: </a>  petsc_TotalFlops += PETSC_FLOPS_PER_OP*n;
<a name="line325">325: </a>  petsc_gflops += PETSC_FLOPS_PER_OP*n;
<a name="line326">326: </a>  <font color="#4169E1">return</font>(0);
<a name="line327">327: </a>}

<a name="line329">329: </a><font color="#B22222">/*@</font>
<a name="line330">330: </a><font color="#B22222">       <a href="../docs/manualpages/Profiling/PetscLogGpuTimeBegin.html#PetscLogGpuTimeBegin">PetscLogGpuTimeBegin</a> - Start timer for device</font>

<a name="line332">332: </a><font color="#B22222">   Level: intermediate</font>

<a name="line334">334: </a><font color="#B22222">      Notes:</font>
<a name="line335">335: </a><font color="#B22222">        The timer is run on the CPU, it is just logged separately as time devoted to GPU computations (including kernel launch times). It is used to compute the flop rate on the GPU.</font>
<a name="line336">336: </a><font color="#B22222">.seealso:  <a href="../docs/manualpages/Profiling/PetscLogView.html#PetscLogView">PetscLogView</a>(), <a href="../docs/manualpages/Profiling/PetscLogGpuFlops.html#PetscLogGpuFlops">PetscLogGpuFlops</a>(), <a href="../docs/manualpages/Profiling/PetscLogGpuTimeEnd.html#PetscLogGpuTimeEnd">PetscLogGpuTimeEnd</a>()</font>
<a name="line337">337: </a><font color="#B22222">@*/</font>
<a name="line338">338: </a><strong><font color="#4169E1"><a name="PetscLogGpuTimeBegin"></a>PETSC_STATIC_INLINE <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogGpuTimeBegin.html#PetscLogGpuTimeBegin">PetscLogGpuTimeBegin</a>()</font></strong>
<a name="line339">339: </a>{
<a name="line342">342: </a><font color="#A020F0">#if defined(PETSC_USE_DEBUG)</font>
<a name="line343">343: </a>  <font color="#4169E1">if</font> (petsc_gtime_inuse) <a href="../docs/manualpages/Sys/SETERRQ.html#SETERRQ">SETERRQ</a>(<a href="../docs/manualpages/Sys/PETSC_COMM_SELF.html#PETSC_COMM_SELF">PETSC_COMM_SELF</a>,PETSC_ERR_PLIB,<font color="#666666">"Forgot to call <a href="../docs/manualpages/Profiling/PetscLogGpuTimeEnd.html#PetscLogGpuTimeEnd">PetscLogGpuTimeEnd</a>()?"</font>);
<a name="line344">344: </a>  petsc_gtime_inuse = <a href="../docs/manualpages/Sys/PETSC_TRUE.html#PETSC_TRUE">PETSC_TRUE</a>;
<a name="line345">345: </a><font color="#A020F0">#endif</font>
<a name="line346">346: </a>  <a href="../docs/manualpages/Sys/PetscTimeSubtract.html#PetscTimeSubtract">PetscTimeSubtract</a>(&amp;petsc_gtime);
<a name="line347">347: </a>  <font color="#4169E1">return</font>(0);
<a name="line348">348: </a>}
<a name="line349">349: </a><font color="#B22222">/*@</font>
<a name="line350">350: </a><font color="#B22222">       <a href="../docs/manualpages/Profiling/PetscLogGpuTimeEnd.html#PetscLogGpuTimeEnd">PetscLogGpuTimeEnd</a> - Stop timer for device</font>

<a name="line352">352: </a><font color="#B22222">   Level: intermediate</font>

<a name="line354">354: </a><font color="#B22222">.seealso:  <a href="../docs/manualpages/Profiling/PetscLogView.html#PetscLogView">PetscLogView</a>(), <a href="../docs/manualpages/Profiling/PetscLogGpuFlops.html#PetscLogGpuFlops">PetscLogGpuFlops</a>(), <a href="../docs/manualpages/Profiling/PetscLogGpuTimeBegin.html#PetscLogGpuTimeBegin">PetscLogGpuTimeBegin</a>()</font>
<a name="line355">355: </a><font color="#B22222">@*/</font>
<a name="line356">356: </a><strong><font color="#4169E1"><a name="PetscLogGpuTimeEnd"></a>PETSC_STATIC_INLINE <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogGpuTimeEnd.html#PetscLogGpuTimeEnd">PetscLogGpuTimeEnd</a>()</font></strong>
<a name="line357">357: </a>{
<a name="line360">360: </a><font color="#A020F0">#if defined(PETSC_USE_DEBUG)</font>
<a name="line361">361: </a>  <font color="#4169E1">if</font> (!petsc_gtime_inuse) <a href="../docs/manualpages/Sys/SETERRQ.html#SETERRQ">SETERRQ</a>(<a href="../docs/manualpages/Sys/PETSC_COMM_SELF.html#PETSC_COMM_SELF">PETSC_COMM_SELF</a>,PETSC_ERR_PLIB,<font color="#666666">"Forgot to call <a href="../docs/manualpages/Profiling/PetscLogGpuTimeBegin.html#PetscLogGpuTimeBegin">PetscLogGpuTimeBegin</a>()?"</font>);
<a name="line362">362: </a>  petsc_gtime_inuse = <a href="../docs/manualpages/Sys/PETSC_FALSE.html#PETSC_FALSE">PETSC_FALSE</a>;
<a name="line363">363: </a><font color="#A020F0">#endif</font>
<a name="line364">364: </a>  <a href="../docs/manualpages/Sys/PetscTimeAdd.html#PetscTimeAdd">PetscTimeAdd</a>(&amp;petsc_gtime);
<a name="line365">365: </a>  <font color="#4169E1">return</font>(0);
<a name="line366">366: </a>}

<a name="line368">368: </a><strong><font color="#4169E1"><a name="PetscLogGpuTimeAdd"></a>PETSC_STATIC_INLINE <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> PetscLogGpuTimeAdd(<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> t)</font></strong>
<a name="line369">369: </a>{
<a name="line371">371: </a>  petsc_gtime += t;
<a name="line372">372: </a>  <font color="#4169E1">return</font>(0);
<a name="line373">373: </a>}
<a name="line374">374: </a><font color="#A020F0">#endif</font>

<a name="line376">376: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscGetFlops.html#PetscGetFlops">PetscGetFlops</a>(<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> *)</font></strong>;

<a name="line378">378: </a><font color="#A020F0">#if defined (PETSC_HAVE_MPE)</font>
<a name="line379">379: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogMPEBegin.html#PetscLogMPEBegin">PetscLogMPEBegin</a>(void)</font></strong>;
<a name="line380">380: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogMPEDump.html#PetscLogMPEDump">PetscLogMPEDump</a>(const char[])</font></strong>;
<a name="line381">381: </a><font color="#A020F0">#endif</font>

<a name="line383">383: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> (*PetscLogPLB)(<a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a>,int,<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>,<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>,<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>,<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)</font></strong>;
<a name="line384">384: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> (*PetscLogPLE)(<a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a>,int,<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>,<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>,<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>,<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)</font></strong>;
<a name="line385">385: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> (*PetscLogPHC)(<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)</font></strong>;
<a name="line386">386: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> (*PetscLogPHD)(<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)</font></strong>;

<a name="line388">388: </a><strong><font color="#228B22">#define PetscLogObjectParents(p,n,d)  0;do{int _i; for (_i=0; _i&lt;(n); _i++) {PetscLogObjectParent((<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)(p),(<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)(d)[_i]);}}while (0)</font></strong>
<a name="line389">389: </a><strong><font color="#228B22">#define PetscLogObjectCreate(h)      ((PetscLogPHC) ? (*PetscLogPHC)((<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)(h)) : 0)</font></strong>
<a name="line390">390: </a><strong><font color="#228B22">#define PetscLogObjectDestroy(h)     ((PetscLogPHD) ? (*PetscLogPHD)((<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)(h)) : 0)</font></strong>
<a name="line391">391: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> PetscLogObjectState(<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>, const char[], ...)</font></strong>;

<a name="line393">393: </a><font color="#B22222">/* Initialization functions */</font>
<a name="line394">394: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogDefaultBegin.html#PetscLogDefaultBegin">PetscLogDefaultBegin</a>(void)</font></strong>;
<a name="line395">395: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogAllBegin.html#PetscLogAllBegin">PetscLogAllBegin</a>(void)</font></strong>;
<a name="line396">396: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogNestedBegin.html#PetscLogNestedBegin">PetscLogNestedBegin</a>(void)</font></strong>;
<a name="line397">397: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogTraceBegin.html#PetscLogTraceBegin">PetscLogTraceBegin</a>(FILE *)</font></strong>;
<a name="line398">398: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogActions.html#PetscLogActions">PetscLogActions</a>(<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>)</font></strong>;
<a name="line399">399: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogObjects.html#PetscLogObjects">PetscLogObjects</a>(<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>)</font></strong>;
<a name="line400">400: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogSetThreshold.html#PetscLogSetThreshold">PetscLogSetThreshold</a>(<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>,<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>*)</font></strong>;
<a name="line401">401: </a><strong><font color="#4169E1"><a name="PetscLogSet"></a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogSet.html#PetscLogSet">PetscLogSet</a>(<a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> (*)(int, int, <a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>, <a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>, <a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>, <a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>),</font></strong>
<a name="line402">402: </a><strong><font color="#4169E1">                                        <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> (*)(int, int, <a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>, <a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>, <a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>, <a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)</font></strong>);

<a name="line404">404: </a><font color="#B22222">/* Output functions */</font>
<a name="line405">405: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogView.html#PetscLogView">PetscLogView</a>(<a href="../docs/manualpages/Viewer/PetscViewer.html#PetscViewer">PetscViewer</a>)</font></strong>;
<a name="line406">406: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogViewFromOptions.html#PetscLogViewFromOptions">PetscLogViewFromOptions</a>(void)</font></strong>;
<a name="line407">407: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogDump.html#PetscLogDump">PetscLogDump</a>(const char[])</font></strong>;

<a name="line409">409: </a><font color="#B22222">/* Stage functions */</font>
<a name="line410">410: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogStageRegister.html#PetscLogStageRegister">PetscLogStageRegister</a>(const char[],<a href="../docs/manualpages/Profiling/PetscLogStage.html#PetscLogStage">PetscLogStage</a>*)</font></strong>;
<a name="line411">411: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogStagePush.html#PetscLogStagePush">PetscLogStagePush</a>(<a href="../docs/manualpages/Profiling/PetscLogStage.html#PetscLogStage">PetscLogStage</a>)</font></strong>;
<a name="line412">412: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogStagePop.html#PetscLogStagePop">PetscLogStagePop</a>(void)</font></strong>;
<a name="line413">413: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogStageSetActive.html#PetscLogStageSetActive">PetscLogStageSetActive</a>(<a href="../docs/manualpages/Profiling/PetscLogStage.html#PetscLogStage">PetscLogStage</a>,<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>)</font></strong>;
<a name="line414">414: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogStageGetActive.html#PetscLogStageGetActive">PetscLogStageGetActive</a>(<a href="../docs/manualpages/Profiling/PetscLogStage.html#PetscLogStage">PetscLogStage</a>,<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>*)</font></strong>;
<a name="line415">415: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogStageSetVisible.html#PetscLogStageSetVisible">PetscLogStageSetVisible</a>(<a href="../docs/manualpages/Profiling/PetscLogStage.html#PetscLogStage">PetscLogStage</a>,<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>)</font></strong>;
<a name="line416">416: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogStageGetVisible.html#PetscLogStageGetVisible">PetscLogStageGetVisible</a>(<a href="../docs/manualpages/Profiling/PetscLogStage.html#PetscLogStage">PetscLogStage</a>,<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>*)</font></strong>;
<a name="line417">417: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogStageGetId.html#PetscLogStageGetId">PetscLogStageGetId</a>(const char[],<a href="../docs/manualpages/Profiling/PetscLogStage.html#PetscLogStage">PetscLogStage</a>*)</font></strong>;

<a name="line419">419: </a><font color="#B22222">/* Event functions */</font>
<a name="line420">420: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogEventRegister.html#PetscLogEventRegister">PetscLogEventRegister</a>(const char[],<a href="../docs/manualpages/Sys/PetscClassId.html#PetscClassId">PetscClassId</a>,<a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a>*)</font></strong>;
<a name="line421">421: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogEventSetCollective.html#PetscLogEventSetCollective">PetscLogEventSetCollective</a>(<a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a>,<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>)</font></strong>;
<a name="line422">422: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogEventIncludeClass.html#PetscLogEventIncludeClass">PetscLogEventIncludeClass</a>(<a href="../docs/manualpages/Sys/PetscClassId.html#PetscClassId">PetscClassId</a>)</font></strong>;
<a name="line423">423: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogEventExcludeClass.html#PetscLogEventExcludeClass">PetscLogEventExcludeClass</a>(<a href="../docs/manualpages/Sys/PetscClassId.html#PetscClassId">PetscClassId</a>)</font></strong>;
<a name="line424">424: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogEventActivate.html#PetscLogEventActivate">PetscLogEventActivate</a>(<a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a>)</font></strong>;
<a name="line425">425: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogEventDeactivate.html#PetscLogEventDeactivate">PetscLogEventDeactivate</a>(<a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a>)</font></strong>;
<a name="line426">426: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogEventSetActiveAll.html#PetscLogEventSetActiveAll">PetscLogEventSetActiveAll</a>(<a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a>,<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>)</font></strong>;
<a name="line427">427: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogEventActivateClass.html#PetscLogEventActivateClass">PetscLogEventActivateClass</a>(<a href="../docs/manualpages/Sys/PetscClassId.html#PetscClassId">PetscClassId</a>)</font></strong>;
<a name="line428">428: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogEventDeactivateClass.html#PetscLogEventDeactivateClass">PetscLogEventDeactivateClass</a>(<a href="../docs/manualpages/Sys/PetscClassId.html#PetscClassId">PetscClassId</a>)</font></strong>;
<a name="line429">429: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogEventGetId.html#PetscLogEventGetId">PetscLogEventGetId</a>(const char[],<a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a>*)</font></strong>;
<a name="line430">430: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogEventGetPerfInfo.html#PetscLogEventGetPerfInfo">PetscLogEventGetPerfInfo</a>(int,<a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a>,PetscEventPerfInfo*)</font></strong>;
<a name="line431">431: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogEventSetDof.html#PetscLogEventSetDof">PetscLogEventSetDof</a>(<a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a>, <a href="../docs/manualpages/Sys/PetscInt.html#PetscInt">PetscInt</a>, <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>)</font></strong>;
<a name="line432">432: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> <a href="../docs/manualpages/Profiling/PetscLogEventSetError.html#PetscLogEventSetError">PetscLogEventSetError</a>(<a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a>, <a href="../docs/manualpages/Sys/PetscInt.html#PetscInt">PetscInt</a>, <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>)</font></strong>;

<a name="line434">434: </a><font color="#B22222">/* Global counters */</font>
<a name="line435">435: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_irecv_ct;
<a name="line436">436: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_isend_ct;
<a name="line437">437: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_recv_ct;
<a name="line438">438: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_send_ct;
<a name="line439">439: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_irecv_len;
<a name="line440">440: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_isend_len;
<a name="line441">441: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_recv_len;
<a name="line442">442: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_send_len;
<a name="line443">443: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_allreduce_ct;
<a name="line444">444: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_gather_ct;
<a name="line445">445: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_scatter_ct;
<a name="line446">446: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_wait_ct;
<a name="line447">447: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_wait_any_ct;
<a name="line448">448: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_wait_all_ct;
<a name="line449">449: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> petsc_sum_of_waits_ct;

<a name="line451">451: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>      PetscLogMemory;

<a name="line453">453: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a> PetscLogSyncOn;  <font color="#B22222">/* true if logging synchronization is enabled */</font>
<a name="line454">454: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> PetscLogEventSynchronize(<a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a>, <a href="../docs/manualpages/Sys/MPI_Comm.html#MPI_Comm">MPI_Comm</a>)</font></strong>;

<a name="line456">456: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventSync.html#PetscLogEventSync">PetscLogEventSync</a>(e,comm) \</font></strong>
<a name="line457">457: </a><strong><font color="#228B22">  (((PetscLogPLB &amp;&amp; petsc_stageLog-&gt;stageInfo[petsc_stageLog-&gt;curStage].perfInfo.active &amp;&amp; petsc_stageLog-&gt;stageInfo[petsc_stageLog-&gt;curStage].eventLog-&gt;eventInfo[e].active) ? \</font></strong>
<a name="line458">458: </a><strong><font color="#228B22">    PetscLogEventSynchronize((e),(comm)) : 0))</font></strong>

<a name="line460">460: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventBegin.html#PetscLogEventBegin">PetscLogEventBegin</a>(e,o1,o2,o3,o4) \</font></strong>
<a name="line461">461: </a><strong><font color="#228B22">  (((PetscLogPLB &amp;&amp; petsc_stageLog-&gt;stageInfo[petsc_stageLog-&gt;curStage].perfInfo.active &amp;&amp; petsc_stageLog-&gt;stageInfo[petsc_stageLog-&gt;curStage].eventLog-&gt;eventInfo[e].active) ? \</font></strong>
<a name="line462">462: </a><strong><font color="#228B22">    (*PetscLogPLB)((e),0,(<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)(o1),(<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)(o2),(<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)(o3),(<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)(o4)) : 0))</font></strong>

<a name="line464">464: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventEnd.html#PetscLogEventEnd">PetscLogEventEnd</a>(e,o1,o2,o3,o4) \</font></strong>
<a name="line465">465: </a><strong><font color="#228B22">  (((PetscLogPLE &amp;&amp; petsc_stageLog-&gt;stageInfo[petsc_stageLog-&gt;curStage].perfInfo.active &amp;&amp; petsc_stageLog-&gt;stageInfo[petsc_stageLog-&gt;curStage].eventLog-&gt;eventInfo[e].active) ? \</font></strong>
<a name="line466">466: </a><strong><font color="#228B22">    (*PetscLogPLE)((e),0,(<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)(o1),(<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)(o2),(<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)(o3),(<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>)(o4)) : 0))</font></strong>

<a name="line468">468: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> PetscLogEventGetFlops(<a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a>,<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>*)</font></strong>;
<a name="line469">469: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> PetscLogEventZeroFlops(<a href="../docs/manualpages/Profiling/PetscLogEvent.html#PetscLogEvent">PetscLogEvent</a>)</font></strong>;

<a name="line471">471: </a><font color="#B22222">/*</font>
<a name="line472">472: </a><font color="#B22222">     These are used internally in the PETSc routines to keep a count of MPI messages and</font>
<a name="line473">473: </a><font color="#B22222">   their sizes.</font>

<a name="line475">475: </a><font color="#B22222">     This does not work for MPI-Uni because our include/petsc/mpiuni/mpi.h file</font>
<a name="line476">476: </a><font color="#B22222">   uses macros to defined the MPI operations.</font>

<a name="line478">478: </a><font color="#B22222">     It does not work correctly from HP-UX because it processes the</font>
<a name="line479">479: </a><font color="#B22222">   macros in a way that sometimes it double counts, hence</font>
<a name="line480">480: </a><font color="#B22222">   PETSC_HAVE_BROKEN_RECURSIVE_MACRO</font>

<a name="line482">482: </a><font color="#B22222">     It does not work with Windows because winmpich lacks <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Type_size.html#MPI_Type_size">MPI_Type_size</a>()</font>
<a name="line483">483: </a><font color="#B22222">*/</font>
<a name="line484">484: </a><font color="#A020F0">#if !defined(MPIUNI_H) &amp;&amp; !defined(PETSC_HAVE_BROKEN_RECURSIVE_MACRO) &amp;&amp; !defined (PETSC_HAVE_MPI_MISSING_TYPESIZE)</font>
<a name="line485">485: </a><font color="#B22222">/*</font>
<a name="line486">486: </a><font color="#B22222">   Logging of MPI activities</font>
<a name="line487">487: </a><font color="#B22222">*/</font>
<a name="line488">488: </a><strong><font color="#4169E1"><a name="PetscMPITypeSize"></a>PETSC_STATIC_INLINE <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> PetscMPITypeSize(<a href="../docs/manualpages/Sys/PetscInt.html#PetscInt">PetscInt</a> count,MPI_Datatype type,<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> *length)</font></strong>
<a name="line489">489: </a>{
<a name="line490">490: </a>  <a href="../docs/manualpages/Sys/PetscMPIInt.html#PetscMPIInt">PetscMPIInt</a>    typesize;
<a name="line492">492: </a>  <font color="#4169E1">if</font> (type == MPI_DATATYPE_NULL) <font color="#4169E1">return</font> 0;
<a name="line493">493: </a>  <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Type_size.html#MPI_Type_size">MPI_Type_size</a>(type,&amp;typesize);
<a name="line494">494: </a>  *length += (<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>) (count*typesize);
<a name="line495">495: </a>  <font color="#4169E1">return</font> 0;
<a name="line496">496: </a>}

<a name="line498">498: </a><strong><font color="#4169E1"><a name="PetscMPITypeSizeComm"></a>PETSC_STATIC_INLINE <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> PetscMPITypeSizeComm(<a href="../docs/manualpages/Sys/MPI_Comm.html#MPI_Comm">MPI_Comm</a> comm,const <a href="../docs/manualpages/Sys/PetscMPIInt.html#PetscMPIInt">PetscMPIInt</a> *counts,MPI_Datatype type,<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> *length)</font></strong>
<a name="line499">499: </a>{
<a name="line500">500: </a>  <a href="../docs/manualpages/Sys/PetscMPIInt.html#PetscMPIInt">PetscMPIInt</a>    typesize,size,p;

<a name="line503">503: </a>  <font color="#4169E1">if</font> (type == MPI_DATATYPE_NULL) <font color="#4169E1">return</font> 0;
<a name="line504">504: </a>  <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Comm_size.html#MPI_Comm_size">MPI_Comm_size</a>(comm,&amp;size);
<a name="line505">505: </a>  <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Type_size.html#MPI_Type_size">MPI_Type_size</a>(type,&amp;typesize);
<a name="line506">506: </a>  <font color="#4169E1">for</font> (p=0; p&lt;size; ++p) {
<a name="line507">507: </a>    *length += (<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>) (counts[p]*typesize);
<a name="line508">508: </a>  }
<a name="line509">509: </a>  <font color="#4169E1">return</font> 0;
<a name="line510">510: </a>}

<a name="line512">512: </a><strong><font color="#4169E1"><a name="PetscMPITypeSizeCount"></a>PETSC_STATIC_INLINE <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> PetscMPITypeSizeCount(<a href="../docs/manualpages/Sys/PetscInt.html#PetscInt">PetscInt</a> n,const <a href="../docs/manualpages/Sys/PetscMPIInt.html#PetscMPIInt">PetscMPIInt</a> *counts,MPI_Datatype type,<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a> *length)</font></strong>
<a name="line513">513: </a>{
<a name="line514">514: </a>  <a href="../docs/manualpages/Sys/PetscMPIInt.html#PetscMPIInt">PetscMPIInt</a>    typesize,p;

<a name="line517">517: </a>  <font color="#4169E1">if</font> (type == MPI_DATATYPE_NULL) <font color="#4169E1">return</font> 0;
<a name="line518">518: </a>  <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Type_size.html#MPI_Type_size">MPI_Type_size</a>(type,&amp;typesize);
<a name="line519">519: </a>  <font color="#4169E1">for</font> (p=0; p&lt;n; ++p) {
<a name="line520">520: </a>    *length += (<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>) (counts[p]*typesize);
<a name="line521">521: </a>  }
<a name="line522">522: </a>  <font color="#4169E1">return</font> 0;
<a name="line523">523: </a>}

<a name="line525">525: </a><font color="#B22222">/*</font>
<a name="line526">526: </a><font color="#B22222">    Returns 1 if the communicator is parallel else zero</font>
<a name="line527">527: </a><font color="#B22222">*/</font>
<a name="line528">528: </a><strong><font color="#4169E1"><a name="PetscMPIParallelComm"></a>PETSC_STATIC_INLINE int PetscMPIParallelComm(<a href="../docs/manualpages/Sys/MPI_Comm.html#MPI_Comm">MPI_Comm</a> comm)</font></strong>
<a name="line529">529: </a>{
<a name="line530">530: </a>  <a href="../docs/manualpages/Sys/PetscMPIInt.html#PetscMPIInt">PetscMPIInt</a> size; <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Comm_size.html#MPI_Comm_size">MPI_Comm_size</a>(comm,&amp;size); <font color="#4169E1">return</font> size &gt; 1;
<a name="line531">531: </a>}

<a name="line533">533: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Irecv.html#MPI_Irecv">MPI_Irecv</a>(buf,count,datatype,source,tag,comm,request) \</font></strong>
<a name="line534">534: </a><strong><font color="#228B22">  ((petsc_irecv_ct++,0) || PetscMPITypeSize((count),(datatype),&amp;(petsc_irecv_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Irecv.html#MPI_Irecv">MPI_Irecv</a>((buf),(count),(datatype),(source),(tag),(comm),(request)))</font></strong>

<a name="line536">536: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Isend.html#MPI_Isend">MPI_Isend</a>(buf,count,datatype,dest,tag,comm,request) \</font></strong>
<a name="line537">537: </a><strong><font color="#228B22">  ((petsc_isend_ct++,0) || PetscMPITypeSize((count),(datatype),&amp;(petsc_isend_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Isend.html#MPI_Isend">MPI_Isend</a>((buf),(count),(datatype),(dest),(tag),(comm),(request)))</font></strong>

<a name="line539">539: </a><strong><font color="#228B22">#define MPI_Startall_irecv(count,datatype,number,requests) \</font></strong>
<a name="line540">540: </a><strong><font color="#228B22">  ((petsc_irecv_ct += (<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>)(number),0) || PetscMPITypeSize((count),(datatype),&amp;(petsc_irecv_len)) || ((number) &amp;&amp; <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Startall.html#MPI_Startall">MPI_Startall</a>((number),(requests))))</font></strong>

<a name="line542">542: </a><strong><font color="#228B22">#define MPI_Startall_isend(count,datatype,number,requests) \</font></strong>
<a name="line543">543: </a><strong><font color="#228B22">  ((petsc_isend_ct += (<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>)(number),0) || PetscMPITypeSize((count),(datatype),&amp;(petsc_isend_len)) || ((number) &amp;&amp; <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Startall.html#MPI_Startall">MPI_Startall</a>((number),(requests))))</font></strong>

<a name="line545">545: </a><strong><font color="#228B22">#define MPI_Start_isend(count,datatype,requests) \</font></strong>
<a name="line546">546: </a><strong><font color="#228B22">  ((petsc_isend_ct++,0) || PetscMPITypeSize((count),(datatype),(&amp;petsc_isend_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Start.html#MPI_Start">MPI_Start</a>((requests)))</font></strong>

<a name="line548">548: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Recv.html#MPI_Recv">MPI_Recv</a>(buf,count,datatype,source,tag,comm,status) \</font></strong>
<a name="line549">549: </a><strong><font color="#228B22">  ((petsc_recv_ct++,0) || PetscMPITypeSize((count),(datatype),(&amp;petsc_recv_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Recv.html#MPI_Recv">MPI_Recv</a>((buf),(count),(datatype),(source),(tag),(comm),(status)))</font></strong>

<a name="line551">551: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Send.html#MPI_Send">MPI_Send</a>(buf,count,datatype,dest,tag,comm) \</font></strong>
<a name="line552">552: </a><strong><font color="#228B22">  ((petsc_send_ct++,0) || PetscMPITypeSize((count),(datatype),(&amp;petsc_send_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Send.html#MPI_Send">MPI_Send</a>((buf),(count),(datatype),(dest),(tag),(comm)))</font></strong>

<a name="line554">554: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Wait.html#MPI_Wait">MPI_Wait</a>(request,status) \</font></strong>
<a name="line555">555: </a><strong><font color="#228B22">  ((petsc_wait_ct++,petsc_sum_of_waits_ct++,0) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Wait.html#MPI_Wait">MPI_Wait</a>((request),(status)))</font></strong>

<a name="line557">557: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Waitany.html#MPI_Waitany">MPI_Waitany</a>(a,b,c,d) \</font></strong>
<a name="line558">558: </a><strong><font color="#228B22">  ((petsc_wait_any_ct++,petsc_sum_of_waits_ct++,0) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Waitany.html#MPI_Waitany">MPI_Waitany</a>((a),(b),(c),(d)))</font></strong>

<a name="line560">560: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Waitall.html#MPI_Waitall">MPI_Waitall</a>(count,array_of_requests,array_of_statuses) \</font></strong>
<a name="line561">561: </a><strong><font color="#228B22">  ((petsc_wait_all_ct++,petsc_sum_of_waits_ct += (<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>) (count),0) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Waitall.html#MPI_Waitall">MPI_Waitall</a>((count),(array_of_requests),(array_of_statuses)))</font></strong>

<a name="line563">563: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Allreduce.html#MPI_Allreduce">MPI_Allreduce</a>(sendbuf,recvbuf,count,datatype,op,comm) \</font></strong>
<a name="line564">564: </a><strong><font color="#228B22">  ((petsc_allreduce_ct += PetscMPIParallelComm((comm)),0) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Allreduce.html#MPI_Allreduce">MPI_Allreduce</a>((sendbuf),(recvbuf),(count),(datatype),(op),(comm)))</font></strong>

<a name="line566">566: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Bcast.html#MPI_Bcast">MPI_Bcast</a>(buffer,count,datatype,root,comm) \</font></strong>
<a name="line567">567: </a><strong><font color="#228B22">  ((petsc_allreduce_ct += PetscMPIParallelComm((comm)),0) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Bcast.html#MPI_Bcast">MPI_Bcast</a>((buffer),(count),(datatype),(root),(comm)))</font></strong>

<a name="line569">569: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Reduce_scatter_block.html#MPI_Reduce_scatter_block">MPI_Reduce_scatter_block</a>(sendbuf,recvbuf,recvcount,datatype,op,comm) \</font></strong>
<a name="line570">570: </a><strong><font color="#228B22">  ((petsc_allreduce_ct += PetscMPIParallelComm((comm)),0) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Reduce_scatter_block.html#MPI_Reduce_scatter_block">MPI_Reduce_scatter_block</a>((sendbuf),(recvbuf),(recvcount),(datatype),(op),(comm)))</font></strong>

<a name="line572">572: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Alltoall.html#MPI_Alltoall">MPI_Alltoall</a>(sendbuf,sendcount,sendtype,recvbuf,recvcount,recvtype,comm) \</font></strong>
<a name="line573">573: </a><strong><font color="#228B22">  ((petsc_allreduce_ct += PetscMPIParallelComm((comm)),0) || PetscMPITypeSize((sendcount),(sendtype),(&amp;petsc_send_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Alltoall.html#MPI_Alltoall">MPI_Alltoall</a>((sendbuf),(sendcount),(sendtype),(recvbuf),(recvcount),(recvtype),(comm)))</font></strong>

<a name="line575">575: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Alltoallv.html#MPI_Alltoallv">MPI_Alltoallv</a>(sendbuf,sendcnts,sdispls,sendtype,recvbuf,recvcnts,rdispls,recvtype,comm) \</font></strong>
<a name="line576">576: </a><strong><font color="#228B22">  ((petsc_allreduce_ct += PetscMPIParallelComm((comm)),0) || PetscMPITypeSizeComm((comm),(sendcnts),(sendtype),(&amp;petsc_send_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Alltoallv.html#MPI_Alltoallv">MPI_Alltoallv</a>((sendbuf),(sendcnts),(sdispls),(sendtype),(recvbuf),(recvcnts),(rdispls),(recvtype),(comm)))</font></strong>

<a name="line578">578: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Allgather.html#MPI_Allgather">MPI_Allgather</a>(sendbuf,sendcount,sendtype,recvbuf,recvcount,recvtype,comm) \</font></strong>
<a name="line579">579: </a><strong><font color="#228B22">  ((petsc_gather_ct += PetscMPIParallelComm((comm)),0) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Allgather.html#MPI_Allgather">MPI_Allgather</a>((sendbuf),(sendcount),(sendtype),(recvbuf),(recvcount),(recvtype),(comm)))</font></strong>

<a name="line581">581: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Allgatherv.html#MPI_Allgatherv">MPI_Allgatherv</a>(sendbuf,sendcount,sendtype,recvbuf,recvcount,displs,recvtype,comm) \</font></strong>
<a name="line582">582: </a><strong><font color="#228B22">  ((petsc_gather_ct += PetscMPIParallelComm((comm)),0) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Allgatherv.html#MPI_Allgatherv">MPI_Allgatherv</a>((sendbuf),(sendcount),(sendtype),(recvbuf),(recvcount),(displs),(recvtype),(comm)))</font></strong>

<a name="line584">584: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Gather.html#MPI_Gather">MPI_Gather</a>(sendbuf,sendcount,sendtype,recvbuf,recvcount,recvtype,root,comm) \</font></strong>
<a name="line585">585: </a><strong><font color="#228B22">  ((petsc_gather_ct++,0) || PetscMPITypeSize((sendcount),(sendtype),(&amp;petsc_send_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Gather.html#MPI_Gather">MPI_Gather</a>((sendbuf),(sendcount),(sendtype),(recvbuf),(recvcount),(recvtype),(root),(comm)))</font></strong>

<a name="line587">587: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Gatherv.html#MPI_Gatherv">MPI_Gatherv</a>(sendbuf,sendcount,sendtype,recvbuf,recvcount,displs,recvtype,root,comm) \</font></strong>
<a name="line588">588: </a><strong><font color="#228B22">  ((petsc_gather_ct++,0) || PetscMPITypeSize((sendcount),(sendtype),(&amp;petsc_send_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Gatherv.html#MPI_Gatherv">MPI_Gatherv</a>((sendbuf),(sendcount),(sendtype),(recvbuf),(recvcount),(displs),(recvtype),(root),(comm)))</font></strong>

<a name="line590">590: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Scatter.html#MPI_Scatter">MPI_Scatter</a>(sendbuf,sendcount,sendtype,recvbuf,recvcount,recvtype,root,comm) \</font></strong>
<a name="line591">591: </a><strong><font color="#228B22">  ((petsc_scatter_ct++,0) || PetscMPITypeSize((recvcount),(recvtype),(&amp;petsc_recv_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Scatter.html#MPI_Scatter">MPI_Scatter</a>((sendbuf),(sendcount),(sendtype),(recvbuf),(recvcount),(recvtype),(root),(comm)))</font></strong>

<a name="line593">593: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Scatterv.html#MPI_Scatterv">MPI_Scatterv</a>(sendbuf,sendcount,displs,sendtype,recvbuf,recvcount,recvtype,root,comm) \</font></strong>
<a name="line594">594: </a><strong><font color="#228B22">  ((petsc_scatter_ct++,0) || PetscMPITypeSize((recvcount),(recvtype),(&amp;petsc_recv_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Scatterv.html#MPI_Scatterv">MPI_Scatterv</a>((sendbuf),(sendcount),(displs),(sendtype),(recvbuf),(recvcount),(recvtype),(root),(comm)))</font></strong>

<a name="line596">596: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Ialltoall.html#MPI_Ialltoall">MPI_Ialltoall</a>(sendbuf,sendcount,sendtype,recvbuf,recvcount,recvtype,comm,request) \</font></strong>
<a name="line597">597: </a><strong><font color="#228B22">  ((petsc_allreduce_ct += PetscMPIParallelComm((comm)),0) || PetscMPITypeSize((sendcount),(sendtype),(&amp;petsc_send_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Ialltoall.html#MPI_Ialltoall">MPI_Ialltoall</a>((sendbuf),(sendcount),(sendtype),(recvbuf),(recvcount),(recvtype),(comm),(request)))</font></strong>

<a name="line599">599: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Ialltoallv.html#MPI_Ialltoallv">MPI_Ialltoallv</a>(sendbuf,sendcnts,sdispls,sendtype,recvbuf,recvcnts,rdispls,recvtype,comm,request) \</font></strong>
<a name="line600">600: </a><strong><font color="#228B22">  ((petsc_allreduce_ct += PetscMPIParallelComm((comm)),0) || PetscMPITypeSizeComm((comm),(sendcnts),(sendtype),(&amp;petsc_send_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Ialltoallv.html#MPI_Ialltoallv">MPI_Ialltoallv</a>((sendbuf),(sendcnts),(sdispls),(sendtype),(recvbuf),(recvcnts),(rdispls),(recvtype),(comm),(request)))</font></strong>

<a name="line602">602: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Iallgather.html#MPI_Iallgather">MPI_Iallgather</a>(sendbuf,sendcount,sendtype,recvbuf,recvcount,recvtype,comm,request) \</font></strong>
<a name="line603">603: </a><strong><font color="#228B22">  ((petsc_gather_ct += PetscMPIParallelComm((comm)),0) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Iallgather.html#MPI_Iallgather">MPI_Iallgather</a>((sendbuf),(sendcount),(sendtype),(recvbuf),(recvcount),(recvtype),(comm),(request)))</font></strong>

<a name="line605">605: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Iallgatherv.html#MPI_Iallgatherv">MPI_Iallgatherv</a>(sendbuf,sendcount,sendtype,recvbuf,recvcount,displs,recvtype,comm,request) \</font></strong>
<a name="line606">606: </a><strong><font color="#228B22">  ((petsc_gather_ct += PetscMPIParallelComm((comm)),0) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Iallgatherv.html#MPI_Iallgatherv">MPI_Iallgatherv</a>((sendbuf),(sendcount),(sendtype),(recvbuf),(recvcount),(displs),(recvtype),(comm),(request)))</font></strong>

<a name="line608">608: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Igather.html#MPI_Igather">MPI_Igather</a>(sendbuf,sendcount,sendtype,recvbuf,recvcount,recvtype,root,comm,request) \</font></strong>
<a name="line609">609: </a><strong><font color="#228B22">  ((petsc_gather_ct++,0) || PetscMPITypeSize((sendcount),(sendtype),(&amp;petsc_send_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Igather.html#MPI_Igather">MPI_Igather</a>((sendbuf),(sendcount),(sendtype),(recvbuf),(recvcount),(recvtype),(root),(comm),(request)))</font></strong>

<a name="line611">611: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Igatherv.html#MPI_Igatherv">MPI_Igatherv</a>(sendbuf,sendcount,sendtype,recvbuf,recvcount,displs,recvtype,root,comm,request) \</font></strong>
<a name="line612">612: </a><strong><font color="#228B22">  ((petsc_gather_ct++,0) || PetscMPITypeSize((sendcount),(sendtype),(&amp;petsc_send_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Igatherv.html#MPI_Igatherv">MPI_Igatherv</a>((sendbuf),(sendcount),(sendtype),(recvbuf),(recvcount),(displs),(recvtype),(root),(comm),(request)))</font></strong>

<a name="line614">614: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Iscatter.html#MPI_Iscatter">MPI_Iscatter</a>(sendbuf,sendcount,sendtype,recvbuf,recvcount,recvtype,root,comm,request) \</font></strong>
<a name="line615">615: </a><strong><font color="#228B22">  ((petsc_scatter_ct++,0) || PetscMPITypeSize((recvcount),(recvtype),(&amp;petsc_recv_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Iscatter.html#MPI_Iscatter">MPI_Iscatter</a>((sendbuf),(sendcount),(sendtype),(recvbuf),(recvcount),(recvtype),(root),(comm),(request)))</font></strong>

<a name="line617">617: </a><strong><font color="#228B22">#define <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Iscatterv.html#MPI_Iscatterv">MPI_Iscatterv</a>(sendbuf,sendcount,displs,sendtype,recvbuf,recvcount,recvtype,root,comm,request) \</font></strong>
<a name="line618">618: </a><strong><font color="#228B22">  ((petsc_scatter_ct++,0) || PetscMPITypeSize((recvcount),(recvtype),(&amp;petsc_recv_len)) || <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Iscatterv.html#MPI_Iscatterv">MPI_Iscatterv</a>((sendbuf),(sendcount),(displs),(sendtype),(recvbuf),(recvcount),(recvtype),(root),(comm),(request)))</font></strong>

<a name="line620">620: </a><font color="#B22222">/* We treat <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Ineighbor_alltoallv.html#MPI_Ineighbor_alltoallv">MPI_Ineighbor_alltoallv</a> as a set of isend/irecv instead of a traditional MPI collective.</font>
<a name="line621">621: </a><font color="#B22222">   OpenMPI-3.0 ran into error with outdegree = indegree = 0, so we use ((outdegree) || (indegree)) as a workaround.</font>
<a name="line622">622: </a><font color="#B22222"> */</font>
<a name="line623">623: </a><strong><font color="#228B22">#define MPI_Start_ineighbor_alltoallv(outdegree,indegree,sendbuf,sendcnts,sdispls,sendtype,recvbuf,recvcnts,rdispls,recvtype,comm,request) \</font></strong>
<a name="line624">624: </a><strong><font color="#228B22">  ((petsc_isend_ct += (<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>)(outdegree),0) || (petsc_irecv_ct += (<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>)(indegree),0) || PetscMPITypeSizeCount((outdegree),(sendcnts),(sendtype),(&amp;petsc_isend_len)) || PetscMPITypeSizeCount((indegree),(recvcnts),(recvtype),(&amp;petsc_irecv_len)) || (((outdegree) || (indegree)) &amp;&amp; <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Ineighbor_alltoallv.html#MPI_Ineighbor_alltoallv">MPI_Ineighbor_alltoallv</a>((sendbuf),(sendcnts),(sdispls),(sendtype),(recvbuf),(recvcnts),(rdispls),(recvtype),(comm),(request))))</font></strong>

<a name="line626">626: </a><strong><font color="#228B22">#define MPI_Start_neighbor_alltoallv(outdegree,indegree,sendbuf,sendcnts,sdispls,sendtype,recvbuf,recvcnts,rdispls,recvtype,comm) \</font></strong>
<a name="line627">627: </a><strong><font color="#228B22">  ((petsc_isend_ct += (<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>)(outdegree),0) || (petsc_irecv_ct += (<a href="../docs/manualpages/Sys/PetscLogDouble.html#PetscLogDouble">PetscLogDouble</a>)(indegree),0) || PetscMPITypeSizeCount((outdegree),(sendcnts),(sendtype),(&amp;petsc_isend_len)) || PetscMPITypeSizeCount((indegree),(recvcnts),(recvtype),(&amp;petsc_irecv_len)) || (((outdegree) || (indegree)) &amp;&amp; <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Neighbor_alltoallv.html#MPI_Neighbor_alltoallv">MPI_Neighbor_alltoallv</a>((sendbuf),(sendcnts),(sdispls),(sendtype),(recvbuf),(recvcnts),(rdispls),(recvtype),(comm))))</font></strong>

<a name="line629">629: </a><font color="#A020F0">#else</font>

<a name="line631">631: </a><strong><font color="#228B22">#define MPI_Startall_irecv(count,datatype,number,requests) \</font></strong>
<a name="line632">632: </a><strong><font color="#228B22">  ((number) &amp;&amp; <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Startall.html#MPI_Startall">MPI_Startall</a>((number),(requests)))</font></strong>

<a name="line634">634: </a><strong><font color="#228B22">#define MPI_Startall_isend(count,datatype,number,requests) \</font></strong>
<a name="line635">635: </a><strong><font color="#228B22">  ((number) &amp;&amp; <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Startall.html#MPI_Startall">MPI_Startall</a>((number),(requests)))</font></strong>

<a name="line637">637: </a><strong><font color="#228B22">#define MPI_Start_isend(count,datatype,requests) \</font></strong>
<a name="line638">638: </a><strong><font color="#228B22">  (<a href="http://www.mpich.org/static/docs/latest/www3/MPI_Start.html#MPI_Start">MPI_Start</a>((requests)))</font></strong>

<a name="line640">640: </a><strong><font color="#228B22">#define MPI_Start_ineighbor_alltoallv(outdegree,indegree,sendbuf,sendcnts,sdispls,sendtype,recvbuf,recvcnts,rdispls,recvtype,comm,request) \</font></strong>
<a name="line641">641: </a><strong><font color="#228B22">  (((outdegree) || (indegree)) &amp;&amp; <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Ineighbor_alltoallv.html#MPI_Ineighbor_alltoallv">MPI_Ineighbor_alltoallv</a>((sendbuf),(sendcnts),(sdispls),(sendtype),(recvbuf),(recvcnts),(rdispls),(recvtype),(comm),(request)))</font></strong>

<a name="line643">643: </a><strong><font color="#228B22">#define MPI_Start_neighbor_alltoallv(outdegree,indegree,sendbuf,sendcnts,sdispls,sendtype,recvbuf,recvcnts,rdispls,recvtype,comm) \</font></strong>
<a name="line644">644: </a><strong><font color="#228B22">  (((outdegree) || (indegree)) &amp;&amp; <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Neighbor_alltoallv.html#MPI_Neighbor_alltoallv">MPI_Neighbor_alltoallv</a>((sendbuf),(sendcnts),(sdispls),(sendtype),(recvbuf),(recvcnts),(rdispls),(recvtype),(comm)))</font></strong>
<a name="line645">645: </a><font color="#A020F0">#endif </font><font color="#B22222">/* !MPIUNI_H &amp;&amp; ! PETSC_HAVE_BROKEN_RECURSIVE_MACRO */</font><font color="#A020F0"></font>

<a name="line647">647: </a><font color="#A020F0">#else  </font><font color="#B22222">/* ---Logging is turned off --------------------------------------------*/</font><font color="#A020F0"></font>

<a name="line649">649: </a><strong><font color="#228B22">#define PetscLogMemory                     <a href="../docs/manualpages/Sys/PETSC_FALSE.html#PETSC_FALSE">PETSC_FALSE</a></font></strong>

<a name="line651">651: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogFlops.html#PetscLogFlops">PetscLogFlops</a>(n)                   0</font></strong>
<a name="line652">652: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscGetFlops.html#PetscGetFlops">PetscGetFlops</a>(a)                   (*(a) = 0.0,0)</font></strong>

<a name="line654">654: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogStageRegister.html#PetscLogStageRegister">PetscLogStageRegister</a>(a,b)         0</font></strong>
<a name="line655">655: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogStagePush.html#PetscLogStagePush">PetscLogStagePush</a>(a)               0</font></strong>
<a name="line656">656: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogStagePop.html#PetscLogStagePop">PetscLogStagePop</a>()                 0</font></strong>
<a name="line657">657: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogStageSetActive.html#PetscLogStageSetActive">PetscLogStageSetActive</a>(a,b)        0</font></strong>
<a name="line658">658: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogStageGetActive.html#PetscLogStageGetActive">PetscLogStageGetActive</a>(a,b)        0</font></strong>
<a name="line659">659: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogStageGetVisible.html#PetscLogStageGetVisible">PetscLogStageGetVisible</a>(a,b)       0</font></strong>
<a name="line660">660: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogStageSetVisible.html#PetscLogStageSetVisible">PetscLogStageSetVisible</a>(a,b)       0</font></strong>
<a name="line661">661: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogStageGetId.html#PetscLogStageGetId">PetscLogStageGetId</a>(a,b)            (*(b)=0,0)</font></strong>

<a name="line663">663: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventRegister.html#PetscLogEventRegister">PetscLogEventRegister</a>(a,b,c)       0</font></strong>
<a name="line664">664: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventSetCollective.html#PetscLogEventSetCollective">PetscLogEventSetCollective</a>(a,b)    0</font></strong>
<a name="line665">665: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventIncludeClass.html#PetscLogEventIncludeClass">PetscLogEventIncludeClass</a>(a)       0</font></strong>
<a name="line666">666: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventExcludeClass.html#PetscLogEventExcludeClass">PetscLogEventExcludeClass</a>(a)       0</font></strong>
<a name="line667">667: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventActivate.html#PetscLogEventActivate">PetscLogEventActivate</a>(a)           0</font></strong>
<a name="line668">668: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventDeactivate.html#PetscLogEventDeactivate">PetscLogEventDeactivate</a>(a)         0</font></strong>
<a name="line669">669: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventActivateClass.html#PetscLogEventActivateClass">PetscLogEventActivateClass</a>(a)      0</font></strong>
<a name="line670">670: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventDeactivateClass.html#PetscLogEventDeactivateClass">PetscLogEventDeactivateClass</a>(a)    0</font></strong>
<a name="line671">671: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventSetActiveAll.html#PetscLogEventSetActiveAll">PetscLogEventSetActiveAll</a>(a,b)     0</font></strong>
<a name="line672">672: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventGetId.html#PetscLogEventGetId">PetscLogEventGetId</a>(a,b)            (*(b)=0,0)</font></strong>
<a name="line673">673: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventGetPerfInfo.html#PetscLogEventGetPerfInfo">PetscLogEventGetPerfInfo</a>(a,b,c)    0</font></strong>
<a name="line674">674: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventSetDof.html#PetscLogEventSetDof">PetscLogEventSetDof</a>(a,b,c)         0</font></strong>
<a name="line675">675: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventSetError.html#PetscLogEventSetError">PetscLogEventSetError</a>(a,b,c)       0</font></strong>

<a name="line677">677: </a><strong><font color="#228B22">#define PetscLogPLB                        0</font></strong>
<a name="line678">678: </a><strong><font color="#228B22">#define PetscLogPLE                        0</font></strong>
<a name="line679">679: </a><strong><font color="#228B22">#define PetscLogPHC                        0</font></strong>
<a name="line680">680: </a><strong><font color="#228B22">#define PetscLogPHD                        0</font></strong>

<a name="line682">682: </a><strong><font color="#228B22">#define PetscLogObjectParents(p,n,c)       0</font></strong>
<a name="line683">683: </a><strong><font color="#228B22">#define PetscLogObjectCreate(h)            0</font></strong>
<a name="line684">684: </a><strong><font color="#228B22">#define PetscLogObjectDestroy(h)           0</font></strong>
<a name="line685">685: </a><strong><font color="#4169E1">PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> PetscLogObjectState(<a href="../docs/manualpages/Sys/PetscObject.html#PetscObject">PetscObject</a>,const char[],...)</font></strong>;

<a name="line687">687: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogDefaultBegin.html#PetscLogDefaultBegin">PetscLogDefaultBegin</a>()             0</font></strong>
<a name="line688">688: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogAllBegin.html#PetscLogAllBegin">PetscLogAllBegin</a>()                 0</font></strong>
<a name="line689">689: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogNestedBegin.html#PetscLogNestedBegin">PetscLogNestedBegin</a>()              0</font></strong>
<a name="line690">690: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogTraceBegin.html#PetscLogTraceBegin">PetscLogTraceBegin</a>(file)           0</font></strong>
<a name="line691">691: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogActions.html#PetscLogActions">PetscLogActions</a>(a)                 0</font></strong>
<a name="line692">692: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogObjects.html#PetscLogObjects">PetscLogObjects</a>(a)                 0</font></strong>
<a name="line693">693: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogSetThreshold.html#PetscLogSetThreshold">PetscLogSetThreshold</a>(a,b)          0</font></strong>
<a name="line694">694: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogSet.html#PetscLogSet">PetscLogSet</a>(lb,le)                 0</font></strong>

<a name="line696">696: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogView.html#PetscLogView">PetscLogView</a>(viewer)               0</font></strong>
<a name="line697">697: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogViewFromOptions.html#PetscLogViewFromOptions">PetscLogViewFromOptions</a>()          0</font></strong>
<a name="line698">698: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogDump.html#PetscLogDump">PetscLogDump</a>(c)                    0</font></strong>

<a name="line700">700: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventSync.html#PetscLogEventSync">PetscLogEventSync</a>(e,comm)          0</font></strong>
<a name="line701">701: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventBegin.html#PetscLogEventBegin">PetscLogEventBegin</a>(e,o1,o2,o3,o4)  0</font></strong>
<a name="line702">702: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogEventEnd.html#PetscLogEventEnd">PetscLogEventEnd</a>(e,o1,o2,o3,o4)    0</font></strong>

<a name="line704">704: </a><font color="#A020F0">#if defined(PETSC_HAVE_DEVICE)</font>
<a name="line705">705: </a><strong><font color="#228B22">#define PetscLogCpuToGpu(a)                0</font></strong>
<a name="line706">706: </a><strong><font color="#228B22">#define PetscLogGpuToCpu(a)                0</font></strong>
<a name="line707">707: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogGpuFlops.html#PetscLogGpuFlops">PetscLogGpuFlops</a>(a)                0</font></strong>
<a name="line708">708: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogGpuTimeBegin.html#PetscLogGpuTimeBegin">PetscLogGpuTimeBegin</a>()             0</font></strong>
<a name="line709">709: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscLogGpuTimeEnd.html#PetscLogGpuTimeEnd">PetscLogGpuTimeEnd</a>()               0</font></strong>
<a name="line710">710: </a><strong><font color="#228B22">#define PetscLogGpuTimeAdd(a)              0</font></strong>
<a name="line711">711: </a><font color="#A020F0">#endif</font>

<a name="line713">713: </a><font color="#B22222">/* If PETSC_USE_LOG is NOT defined, these still need to be! */</font>
<a name="line714">714: </a><strong><font color="#228B22">#define MPI_Startall_irecv(count,datatype,number,requests) ((number) &amp;&amp; <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Startall.html#MPI_Startall">MPI_Startall</a>(number,requests))</font></strong>
<a name="line715">715: </a><strong><font color="#228B22">#define MPI_Startall_isend(count,datatype,number,requests) ((number) &amp;&amp; <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Startall.html#MPI_Startall">MPI_Startall</a>(number,requests))</font></strong>
<a name="line716">716: </a><strong><font color="#228B22">#define MPI_Start_isend(count,datatype,requests)           <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Start.html#MPI_Start">MPI_Start</a>(requests)</font></strong>
<a name="line717">717: </a><strong><font color="#228B22">#define MPI_Start_ineighbor_alltoallv(outdegree,indegree,sendbuf,sendcnts,sdispls,sendtype,recvbuf,recvcnts,rdispls,recvtype,comm,request) \</font></strong>
<a name="line718">718: </a><strong><font color="#228B22">  (((outdegree) || (indegree)) &amp;&amp; <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Ineighbor_alltoallv.html#MPI_Ineighbor_alltoallv">MPI_Ineighbor_alltoallv</a>((sendbuf),(sendcnts),(sdispls),(sendtype),(recvbuf),(recvcnts),(rdispls),(recvtype),(comm),(request)))</font></strong>
<a name="line719">719: </a><strong><font color="#228B22">#define MPI_Start_neighbor_alltoallv(outdegree,indegree,sendbuf,sendcnts,sdispls,sendtype,recvbuf,recvcnts,rdispls,recvtype,comm) \</font></strong>
<a name="line720">720: </a><strong><font color="#228B22">  (((outdegree) || (indegree)) &amp;&amp; <a href="http://www.mpich.org/static/docs/latest/www3/MPI_Neighbor_alltoallv.html#MPI_Neighbor_alltoallv">MPI_Neighbor_alltoallv</a>((sendbuf),(sendcnts),(sdispls),(sendtype),(recvbuf),(recvcnts),(rdispls),(recvtype),(comm)))</font></strong>

<a name="line722">722: </a><font color="#A020F0">#endif   </font><font color="#B22222">/* PETSC_USE_LOG */</font><font color="#A020F0"></font>

<a name="line724">724: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscPreLoadBegin.html#PetscPreLoadBegin">PetscPreLoadBegin</a>(flag,name) \</font></strong>
<a name="line725">725: </a><strong><font color="#228B22">do {\</font></strong>
<a name="line726">726: </a><strong><font color="#228B22">  <a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>      PetscPreLoading = flag;\</font></strong>
<a name="line727">727: </a><strong><font color="#228B22">  int            PetscPreLoadMax,PetscPreLoadIt;\</font></strong>
<a name="line728">728: </a><strong><font color="#228B22">  <a href="../docs/manualpages/Profiling/PetscLogStage.html#PetscLogStage">PetscLogStage</a>  _stageNum;\</font></strong>
<a name="line729">729: </a><strong><font color="#228B22">  <a href="../docs/manualpages/Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</a> _3_ierr; \</font></strong>
<a name="line730">730: </a><strong><font color="#228B22">  _3_PetscOptionsGetBool(NULL,NULL,</font><font color="#666666">"-preload"</font><font color="#228B22">,&amp;PetscPreLoading,NULL);<a href="../docs/manualpages/Sys/CHKERRQ.html#CHKERRQ">CHKERRQ</a>(_3_ierr); \</font></strong>
<a name="line731">731: </a><strong><font color="#228B22">  PetscPreLoadMax = (int)(PetscPreLoading);\</font></strong>
<a name="line732">732: </a><strong><font color="#228B22">  PetscPreLoadingUsed = PetscPreLoading ? <a href="../docs/manualpages/Sys/PETSC_TRUE.html#PETSC_TRUE">PETSC_TRUE</a> : PetscPreLoadingUsed;\</font></strong>
<a name="line733">733: </a><strong><font color="#228B22">  for (PetscPreLoadIt=0; PetscPreLoadIt&lt;=PetscPreLoadMax; PetscPreLoadIt++) {\</font></strong>
<a name="line734">734: </a><strong><font color="#228B22">    PetscPreLoadingOn = PetscPreLoading;\</font></strong>
<a name="line735">735: </a><strong><font color="#228B22">    _3_PetscBarrier(NULL);<a href="../docs/manualpages/Sys/CHKERRQ.html#CHKERRQ">CHKERRQ</a>(_3_ierr);\</font></strong>
<a name="line736">736: </a><strong><font color="#228B22">    if (PetscPreLoadIt&gt;0) {\</font></strong>
<a name="line737">737: </a><strong><font color="#228B22">      _3_PetscLogStageGetId(name,&amp;_stageNum);<a href="../docs/manualpages/Sys/CHKERRQ.html#CHKERRQ">CHKERRQ</a>(_3_ierr);\</font></strong>
<a name="line738">738: </a><strong><font color="#228B22">    } else {\</font></strong>
<a name="line739">739: </a><strong><font color="#228B22">      _3_PetscLogStageRegister(name,&amp;_stageNum);<a href="../docs/manualpages/Sys/CHKERRQ.html#CHKERRQ">CHKERRQ</a>(_3_ierr); \</font></strong>
<a name="line740">740: </a><strong><font color="#228B22">    }\</font></strong>
<a name="line741">741: </a><strong><font color="#228B22">    _3_PetscLogStageSetActive(_stageNum,(<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>)(!PetscPreLoadMax || PetscPreLoadIt));\</font></strong>
<a name="line742">742: </a><strong><font color="#228B22">    _3_PetscLogStagePush(_stageNum);<a href="../docs/manualpages/Sys/CHKERRQ.html#CHKERRQ">CHKERRQ</a>(_3_ierr);</font></strong>

<a name="line744">744: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscPreLoadEnd.html#PetscPreLoadEnd">PetscPreLoadEnd</a>() \</font></strong>
<a name="line745">745: </a><strong><font color="#228B22">    _3_PetscLogStagePop();<a href="../docs/manualpages/Sys/CHKERRQ.html#CHKERRQ">CHKERRQ</a>(_3_ierr);\</font></strong>
<a name="line746">746: </a><strong><font color="#228B22">    PetscPreLoading = <a href="../docs/manualpages/Sys/PETSC_FALSE.html#PETSC_FALSE">PETSC_FALSE</a>;\</font></strong>
<a name="line747">747: </a><strong><font color="#228B22">  }\</font></strong>
<a name="line748">748: </a><strong><font color="#228B22">} while (0)</font></strong>

<a name="line750">750: </a><strong><font color="#228B22">#define <a href="../docs/manualpages/Profiling/PetscPreLoadStage.html#PetscPreLoadStage">PetscPreLoadStage</a>(name) do {                                         \</font></strong>
<a name="line751">751: </a><strong><font color="#228B22">    _3_PetscLogStagePop();<a href="../docs/manualpages/Sys/CHKERRQ.html#CHKERRQ">CHKERRQ</a>(_3_ierr);                      \</font></strong>
<a name="line752">752: </a><strong><font color="#228B22">    if (PetscPreLoadIt&gt;0) {                                                  \</font></strong>
<a name="line753">753: </a><strong><font color="#228B22">      _3_PetscLogStageGetId(name,&amp;_stageNum);<a href="../docs/manualpages/Sys/CHKERRQ.html#CHKERRQ">CHKERRQ</a>(_3_ierr);   \</font></strong>
<a name="line754">754: </a><strong><font color="#228B22">    } else {                                                            \</font></strong>
<a name="line755">755: </a><strong><font color="#228B22">      _3_PetscLogStageRegister(name,&amp;_stageNum);<a href="../docs/manualpages/Sys/CHKERRQ.html#CHKERRQ">CHKERRQ</a>(_3_ierr); \</font></strong>
<a name="line756">756: </a><strong><font color="#228B22">    }                                                                   \</font></strong>
<a name="line757">757: </a><strong><font color="#228B22">    _3_PetscLogStageSetActive(_stageNum,(<a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a>)(!PetscPreLoadMax || PetscPreLoadIt)); \</font></strong>
<a name="line758">758: </a><strong><font color="#228B22">    _3_PetscLogStagePush(_stageNum);<a href="../docs/manualpages/Sys/CHKERRQ.html#CHKERRQ">CHKERRQ</a>(_3_ierr);            \</font></strong>
<a name="line759">759: </a><strong><font color="#228B22">  } while (0)</font></strong>

<a name="line761">761: </a><font color="#B22222">/* some vars for logging */</font>
<a name="line762">762: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a> PetscPreLoadingUsed;       <font color="#B22222">/* true if we are or have done preloading */</font>
<a name="line763">763: </a>PETSC_EXTERN <a href="../docs/manualpages/Sys/PetscBool.html#PetscBool">PetscBool</a> PetscPreLoadingOn;         <font color="#B22222">/* true if we are currently in a preloading calculation */</font>

<a name="line765">765: </a><font color="#A020F0">#endif</font>
</pre>
</body>

</html>
